---
layout: post
title: "네트워크 - 라우터, 패킷"
date: 2020-11-01 13:00:59
author: mollangzzang
categories: TIL
tags: TIL network
cover: "/assets/TIL.png"
---

## 라우터

> 접속된 통신 링크 중 하나로 도착하는 패킷을 받아서 접속된 통신 링크 중 다른 링크로 패킷을 전달할 수 있는 장치

- 하지만 어떻게 패킷을 어느 링크로 전달해야 하는지 알 수 있는가?

라우터가 **전달 테이블**을 가지고 있기 때문

패킷이 라우터에 도착하면, 라우터는 올바른 출력 링크를 찾기 위해 주소를 조사하고 이 목적지 주소를 이용하여 전달 테이블을 검색한다. 그 후 라우터는 해당 패킷을 출력링크로 보낸다.

## 회선 교환 vs 패킷 교환

**회선 교환 방식**에서는 목적지로 전송하기 전에 먼저 회선을 설정한다.
회선이 설정되어 해제되기 전까지 데이터를 전송하지 않는 경우에도 다른 컴퓨터들이 이 회선을 이용하지 못하므로 회선의 이용률 측면에서 불리하다.
하지만, 한번 설정되어 전송을 시작하면 다시 경로를 찾기 위한 노력이 필요없으므로 음성과 같이 실시간 데이터를 전송하는데 적합하다 (전화회선)
또한 독점해서 사용하기에 대량의 데이터를 고속으로 전송가능하다.

**패킷 교환 방식**에서는 경로를 미리 설정하지 않는다. 전송은 패킷단위로 독립적으로 이루어지며, 각 패킷들은 네트워크의 트래픽 상태 등에 따라 각기 다른 전송 경로를 가질 수 있다.
고정된 경로를 설정하지 않으므로 동일한 경로를 다른 목적지로 가는 여러 패킷들이 공유하므로 통신회선을 보다 효율적으로 사용가능하다.
대표적인 패킷교환 방식은 인터넷이다.

오늘날 전기통신 네트워크에서 추세는 패킷 교환으로 바뀌고 있다.

## 패킷 교환 네트워크 지연 문제

- 처리지연

패킷 헤더를 조사하고 그 패킷을 어디로 보낼지를 결정하는 시간은 **처리 지연**이다.

- 큐잉지연

패킷은 큐에서 링크로 전송되기를 기다리면서 **큐잉지연**을 겪는다. 특정 패킷의 큐잉 지연의 길이는 큐에 저장되어 링크로 전송되기만을 기다리는 다른 패킷의 수에 의해 결정된다.

- 전송지연

패킷의 모든 비트를 링크로 밀어내는데 필요한 시간이다. (라우터가 패킷을 내보내는데 필요한 시간)

- 전파지연

비트가 링크에 전해지면 다른 라우터까지 전파되어야 한다. 링크의 처음부터 다른 라우터 까지 전파에 필요한 시간이 **전파지연**이다.

## 패킷 손실

현실에서 큐의 용량은 스위치 설계와 비용에 크게 의존한다. 패킷이 도착해서 큐가 꽉찬 것을 알게되면 패킷을 저장할 수 없으므로 라우터는 해당 패킷을 버린다.

종단 시스템 입장에서 패킷 손실은 패킷이 네트워크 코어로 전송되었으나 네트워크로부터 목적지에 나타나지 않는 것으로 보인다. 이러한 경우 종단간에 재전송을 통해 확인한다.
